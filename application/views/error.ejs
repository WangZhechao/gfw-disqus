<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title> Oops... </title>
  <style type="text/css">
  .error-stack {
    margin: 1rem auto;
    padding: 2rem;
    max-width: 800px;
    background-color: rgba(255, 255, 255, 0.3);
  }

  .error-stack-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
  }

  .error-stack-list li {
    display: block;
  }

  .error-stack-list li:before {
    content: "\21AA";
    display: inline-block;
    margin-right: 0.5rem;
    color: #bbb;
    font-size: 1.2rem;
  }

  .error-stack-function {
    font-weight: bold;
  }

  .shp-view {
    -webkit-flex-grow: 1;
    -ms-flex-positive: 1;
    flex-grow: 1;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
    flex-direction: column;
  }

  .error-code {
    margin: 0;
    color: #979797;
    font-size: 7.8rem;
    line-height: 0.9em;
  }

  .error-description {
    margin: 0;
    padding: 0;
    border: none;
    color: #979797;
    font-size: 1.9rem;
    font-weight: 300;
  }

  .error-message {
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
    flex-direction: column;
    margin: 15px;
  }

  .error-message a {
    margin-top: 5px;
    font-size: 1.4rem;
    line-height: 1;
  }
  </style>
</head>
<body>
	<div class="shp-view">
		<section class="error-message">
		  <h1 class="error-code"><%= code %></h1>
		  <h2 class="error-description"><pre><%= message %></pre></h2>
		</section>

		<% if(stack) {%>
			<section class="error-stack"></section>
				<h3>Stack Trace</h3>
				<p><strong><pre><%=  message %></pre></strong></p>
				<ul class="error-stack-list">
					<% for(var i=0,len=stack.length; i<len; i++) { %>
						<li>
							at
							<% if(stack[i].function) { %> 
								<em class="error-stack-function">
									<%= stack[i].function%>
									<span class="error-stack-file"><%= stack[i].at %></span>
								</em>
							<% } %>
						</li>
					<% } %>
				</ul>
			</section>
		<% } %>
	</div>
</body>
</html>
